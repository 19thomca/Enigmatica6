version: '3.2'

# Repository for the image below: https://github.com/itzg/docker-minecraft-server

services:
    minecraft:
        image: itzg/minecraft-server:adopt11
        volumes:
            #  Uses the modpacks folder in the same folder as the docker-compose.yml for the server files to install
            - ./modpacks:/modpacks:ro
            #  Uses the data folder in the same folder as the docker-compose.yml for config, mods, world etc
            # - ./data:/data
        environment:
            EULA: 'true'
            TYPE: CURSEFORGE
            # The modpack zip you've downloaded from https://www.curseforge.com/minecraft/modpacks/enigmatica6/files
            CF_SERVER_MOD: /modpacks/Enigmatica6Server-0.4.13.zip
            # Default RAM allocation
            MEMORY: 5G
            USE_MODPACK_START_SCRIPT: 'true'
            REMOVE_OLD_MODS: 'true'
            USE_AIKAR_FLAGS: 'true'
            OPS: NillerMedDild
        ports:
            - 25565:25565
        tty: true
        stdin_open: true
        restart: unless-stopped
